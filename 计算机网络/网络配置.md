### 交换机部分（集成电路）

# Switch交换机
状态：
  - `[hostname]>`:用户模式,只能使用简单的命令
  - `[hostname]#`:特权命令，可以执行查询以及一些不会保存数值的命令
  - `[hostname]（config）`:全局模式，可以设置任意配置
  - `[hostname]（config-if）`:接口配置状态
  - `[hostname]（config-vlan）`:虚拟网络配置状态
状态之间的切换：
  - 用户模式-->特权模式：`enable` 或 `en`
  - 特权模式-->全局模式：`configure terminal` 或 `config t`
  - 进入接口配置状态：`interface ethernet0/0`
  - 退出：
     - `end`:退出到用户模式
     - `exit`:退出到上一层模式

常用指令：
   - `hostname`:更改交换机名称
   在接口配置状态使用
   - `no switchport` 或 `no swich`: 由二层交换机切换成三层交换机，可以设置IP
   - `no shutdown`或 `no sh`:激活接口
   - `ip add [ip] [子网掩码]` ：设置交换机的ip

# 思科Switch交换机
  查看相邻的设备
  - `show cdp neighbors` 信息比较简单
  - `show cdp entry *` 信息比较复杂
  ```
    Device ID:设备的 ID，也就是设备的 Hostname
    Entry address:它的 IP 地址，此时我们并没有配置任何的 IP 地址，所以该栏是空白的。此 IP 地址是与本设备直连通信的 IP 地址
    Platform：设备系统的运行平台，因为我们使用的是 IOU，所以平台显示的是我们的操作系统 Linux
    Interface：与该设备直连的端口名称与端口
    Holdtime：该项目还会存在的时间
    Version：设备所运行的系统版本
    advertisement version：数据包的宣告版本
    VTP Management Domain：VTP 所在域的域名
    Native VLAN：该设备所属的 vlan
    Duplex：端口的模式，是半双工模式
  ```
  特权状态：
  - `show cdp` 查看cdp配置
  全局状态：
  - `no cdp run` 关闭思科的CDP协议
  - `cdp run` 开启思科的CDP协议
  - `cdp timer 90` 修改 cdp 发送数据包的间隔时间
  - `cdp holdtime 255` 修改 cdp 表项的保留时间


# 虚拟局域网
  配置vlan并重命名
  - `vlan [数字]` 创建虚拟局域网,并进入`config-vlan`模式进行配置
     - `name [虚拟局域网名]` ： 给虚拟局域网命名 
  查看vlan:`show vlan [vlan-id]`
  特权状态：
  - `clear mac address-table dynamic` 清除MAC地址表
  - `clear ARP` 清除路由表
  接口配置状态：
  - `interface ethernet range 0/[0-1]` 对范围内的接口进行配置
  - `interface ethernet 0/0` 对接口进行配置 
  - `switch access [虚拟局域网]` 把接口分配到之前创建的虚拟局域网

# Trunck和VTP
  特权模式
  - `show vtp status` 展示VTP协议的状态
  全局模式
  - `switchport trunk encapsulation dot1q` 对汇聚链路启动VTP协议
  - `switchport mode trunk` 启动汇聚链路
  - `vtp pruning` 开通广播截取，避免多于的广播

# STP协议
1. PVST模式
        特权模式
        - `show spanning-tree` 展示交换机在STP中所属的状态
        全局模式
        - `spanning-tree vlan 1 root primary` 设置某一个虚拟局域网的优先级为主要
        - `spanning-tree vlan 1 root secondary` 设置某一个虚拟局域网的优先级为次要
        - `spanning-tree vlan 1 priority [优先级数字]` 给每个交换机设置优先级，优先级低的交换机为根网桥
        - `spanning-tree mode mst/pvst/rapid-pvst` 设置STP协议模式
        接口配置状态
        - `spanning-tree portfast` 配置接口为边缘端口，用来跟终端机进行连接。
        - `spanning-tree bpduguard enable` 接收到BPDU时，关闭该端口。
2. MST模式
      - 在PVST模式的基础上配置成多个vlan，避免避免维护的交换机数量过于旁大，也减少BPDU的数量
      ```
          #首先得在全局模式中将 STP 模式改成 mstp
          (config)#spanning-tree mode mst

          #然后就是进入 MSTP 的配置模式
          (config)#spanning-tree mst configuration

          #配置创建实例并关联某个或多个 vlan
          (config-mst)#instance 1 vlan 2

          #配置当前的 mstp 修改的版本
          (config-mst)#reversion 0

          #查看当前的 instance 配置
          (config-mst)#show pending

          #配置该设备在实例中的优先级
          (config)#spanning-tree mst 1 priority 8192

          #配置该实例所在的区域名字
          (config-mst)#name region1
      ```

### 路由器部分（小型计算机）

# 1. 查看信息
  - `show version` 查看系统信息
  - `show process CPU` 查看CPU利用率以及进程
  - `show protocols` 查看协议以及端口状态
  - `show memory` 查看内存信息
  - `show interface` 查看端口信息
  - `show startup-config` 查看配置文件，路由启动时会读取该配置文件
  - `show running-config` 查看配置文件，路由启动时会读取该配置文件
  - `copy running-config start-config` 或 `write` 正常配置完后，都是在配置运行时里面，通过该指令保存到配置文件里面
  - `show ip route` 查看路由表
  - `show ip interface|int brief` 查看端口对应的ip

# 2. 配置IP
  全局模式
  - `interface e0/0` 选择端口
  - `interface loopback 0` 选择环回端口
  - `ip address [ip] [mask]` 配置IP地址
  特权模式
  - `show ip int brief`
  - `show running-config interface [端口ID] `
  - 对展示出来的信息进行筛选
    ```
      section：显示从过滤表达式开始的整组部分信息
      include：显示所有符合过滤表达式的信息
      exclude：排除所有符合表达式的信息
      begin：显示从符合表达式开始之后的所有信息
    ```

# 3. 思科快速转发指令：`no ip cef`




