# 计算机网络概述

### 一、什么是计算机网络？
1. 定义：通过线路、路由设备把各个计算机系统联接起来实现数据传输和资源共享的网络。
2. 特点：
    -  互连互通
    -  无主从关系
3. 功能：
    -  数据传输（核心）
    -  资源共享（核心）
    -  提高可靠性
    -  负载均衡
    -  任务分解（分布式处理）
4. 组成：
    -  由组成部分划分：硬件、软件、协议
    -  由工作方式划分：
       -  终端机：跟用户交互。根据是否需要服务器中转可以区分为C/S模式（需要）以及P2P模式（不需要）。
       -  核心：给终端提供服务
    - 由功能划分：
        -  资源子网：负责数据处理，在OSI模型里面体现为应用层、表示层以及会话层
        -  通信子网：负责数据传输，在OSI模型里面体现为网络层、数据链路层以及物理层。
5. 分类：
   -    根据大小划分：广域网、城域网、局域网、个人网
   -    根据通讯方式划分：通过是否使用分组传输、路由存储技术判断
        -    广播式网络：每台终端共享一条信道
        -    点对点网络：使用分组传输、路由存储技术
  
### 二、常用单位
1. 速率：单位为bit/s，计量之间换算为10的3次方。
    - 带宽：理论上最大的速率
    - 吞吐量：实际上的速率
2. 时延：端到端之间的传播时间
   - 往返时延RTT：从源出发到目标，再返回源的时间。

### 三、常用设备
1. 网络线：主要分为568A和568B两种。
![avatar](/计算机网络/网络线.png)
   - 跳线：一端568A，一端568B，用来进行主机之间的联系
   - 并行线：两端都是使用568A或568B，用来跟集线器连接

2. 集线器：
   - 共享网络媒体，同一时间只能被同一个主机使用。
   - 作用于物理层，使用广播方式传播
   - 传输方式为半双工

3. 交换机：
    - 非共享网络媒体，各个连接根据交换机的内存来进行使用
    - 作用于链路层，通过MAC地址进行传播
    - 传输方式为半双工或全双工

4. 路由器：
    -  作用于网络层，通过IP地址进行传输

### 四、网络如何连通（以实际模型为依据）
1. 链路层的传播方式：
   - 根据CSMA/CD协议，通过集线器进行广播，主要步骤为检测媒体使用情况、集线器对包进行多点传输、碰撞侦测。
   -  使用MAC地址进行传播（设备为交换机）  *<font size=2>MAC地址也叫做网卡卡号</font>*

2. 网络层的传播方式：
   -  IP：由32位的二进制数字组成，分为网段ID和主机ID，每个物理网络内的网段ID一致，主机ID不一致。
   -  在同一个网段内的主机可以使用CSMA/CD协议进行广播或者使用MAC地址进行传送。
   -  通过子网掩码划分子网*<font size=2>以192.168.128.0网段为例</font>*
      -  子网掩码为：11111111 11111111 10000000 00000000
      -  Network:11000000 10101000 10000000 00000000  *<font size=2>用来区分网段</font>*
      -  Broadcast: 11000000 10101000 11111111 11111111  *<font size=2>用来对该网段内的所有主机进行广播</font>*
      -  计算网段划分数，通过2的位数次方进行计算。
      -   使用路由器在不同网段内进行传播，主要步骤如下：
          -   根据路由表判断目标地址的网段是否属于同一个区间
              -   如果是则根据CSMA/CD协议和MAC地址把数据包传送到目标主机。
              -   如果不是则把数据包传送到默认网关，余下步骤由网关进行处理（继续该步骤直到找到该主机）。

      - IP和MAC的关联
         - ARP协议与RARP协议：对整个网段发送ARP数据包，各个主机会回送IP和MAC对，然后保存到该主机的路由表里面。

      - ICMP 协定：确保网络的联机正确以及状态正确，封装在IP数据包里面

3. 传输层
    -  TCP/UDP：用来确定是否数据是否正确传输到对应的端口，主要使用连接导向的TCP和非连接导向的UDP
       -   端口：通过端口来提供对应的服务。范围为1-65535，其中1024以下的端口为特权端口，用来提供一些常规服务。
       -   三次握手
           -   第一次：client发送SYN=1,SEQ=10001
           -   第二次：server发送SYN=1,SEQ=10002，ACK=1,SEQ=20001
           -   第三次：client发送ACK=1,SEQ=20002
![avatar](/计算机网络/三次握手.png)





