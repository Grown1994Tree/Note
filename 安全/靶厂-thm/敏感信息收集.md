### 一、利用浏览器探测web信息

利用浏览器的各个模块手动查找浏览器的漏洞信息

1. 探测存在的各个链接的页面及目录
2. 通过查看页面源代码，查找可能存在的注释信息
3. 利用inspector模块查找潜在的静态元素信息，即html和css
4. 利用debuger模块探测可能存在的动态信息，即javascript
5. 利用network模块查看页面的请求包和返回包信息

### 二、信息收集

1. 手动

- robots.txt文件：限制搜索引擎爬取的目录和文件
- favicon文件：获取系统可能存在的框架

    ```shell
        1. 下载favicon文件
        2. 获得hash值
            # shell :   curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico | md5sum
            # powershell : 
                # curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico -UseBasicParsing -o favicon.ico
                # Get-FileHash .\favicon.ico -Algorithm MD5
        3. 到对应的库查询对应框架，查询网站：https://wiki.owasp.org/index.php/OWASP_favicon_database
    ```

- sitemap.xml:希望搜索引擎爬取的目录和文件
- http响应头：查看中间件信息及脚本

    ```shell
        curl https://www.baidu.com/ -v
        # -v 返回http响应头
    ```

- 网页源代码：查看可能存在的注释及特殊链接

2. 公开情报来源

- 利用搜索引擎的搜索指令来进行搜索

- Wappalyzer插件，利用该插件可以获取使用的框架和脚本

- 网站`https://archive.org/web/`,通过该网站可以查询某个域名早期和现在的网页

- github,利用该网站可以查询敏感文件

- S3 Buckets,使用该服务的网站命名为`.s3.amazonaws.com`,获取敏感信息文件

3. 工具

- ffuf:目录发现、子域名发现

```shell
    1. 目录爆破
    ffuf -u "http://192.168.242.62/FUZZ"  -w top7000.txt
    # -u 指定目录
    # -w 设置字典
    # -x 设置代理
    # -p 请求延时
    # -o 输出文本
    # -mc 指定状态代码
    # -fc 按状态码过滤

    2. 子域名爆破
    ffuf -w subdomains.txt -u http://website.com/ -H "Host:FUZZ.website.com"

    ### 无论是子域名还是目录，都需要使用FUZZ替代法
```

- dirb:基于字典的web目录扫描工具

```shell
    dirb http://192.168.1.116 /usr/share/wordlists/dirb/big.txt [OPTION]
    # OPTION选项
    # -a 设置user-agent头
    # -c 设置cookie
    # -z 添加毫秒延迟
    # -p 设置代理
    # -o 输出文本
```

- gobuster：目录扫描、子域名发现及虚拟主机发现

```shell
    1. 目录爆破
    gobuster dir -u https://buffered.io -w ~/wordlists/shortlist.txt

    2. 子域名爆破
    gobuster dns -d google.com -w ~/wordlists/subdomains.txt
    # -r 指定dns服务器
    

    3. 虚拟主机爆破
    gobuster vhost -u https://mysite.com -w common-vhosts.txt

    ### 通用指令
    # -a 设置user-agent头
    # -c 设置cookie
    # -p 设置代理
    # --delay 延迟时间
```
