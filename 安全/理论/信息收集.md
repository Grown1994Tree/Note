### 一、基于域名的信息收集

1. Whois工具及备案网站获取域名的基本信息，包括注册人信息、电话、地址以及邮箱等。

2. 获取域名相关的子域名，确认是否相关联

- 子域名爆破工具
- 搜索引擎的搜索语法，如`site:qq.com`
- 域名商查询，通过持有人信息确认

3. 确认目标域名的真实IP
具体步骤

- 确认目标网站是否有开启CDN
  - 通过`ping`、`nslookup`以及`host`确认dns解析，如果存在多个项目，则可能存在CDN
  - 通过在线网站，如`www.17CE.com`网站去从各个地方ping同一个域名
  - 从国外的网站ping目标域名

- 绕过CDN获取潜在真实IP
  - 从旁站去获取，通常旁站ip跟主站在同一个网段且开通的CDN较少或者没有
  - 从内部邮箱地址
  - 从早期域名解析记录获取，常用网站`www.netcraft.com`
  - 从没有架设CDN的区域ping域名，通常是国外的网站

- 确认和验证真实IP
  - 通过ip直接访问，跟域名访问一致则为真实ip
  - 扫描端口，使用开通的端口去访问，跟域名访问一致则为真实ip

- 依据上面步骤确定相关子域名的真实IP

> 到这里开始，已经获取网站及旁站的真实IP，确定了攻击目标

### 二、基于IP的信息搜集

1. 使用`nmap`工具对目标ip进行端口扫描，获取开放的端口
2. 使用`Goby`等资产扫描工具进行资产及漏洞扫描
3. 使用目录爆破工具对web战点进行爆破，获取可能存在的文件，如`DirBuster`工具
4. 利用工具对目标服务器进行指纹识别，获取对应的CMS及web容器，如`cmseek`和`nmap`的相关属性
5. 敏感信息收集

- 搜索引擎的搜索语法，如`inurl:admin`
- 利用github进行搜索
- 利用抓包工具的返回包信息
