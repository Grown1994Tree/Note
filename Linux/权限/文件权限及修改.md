#文件权限及修改

图1：
![avatar](/Linux/权限/文件权限.png)
在图1中，每一行包含一个文件和目录的属性，从左至右一次为：
`权限 文件数 所有者 所有组 大小 创建月数和日数 时间 文件名称`
`drwxrwxr-x  2 sujingyang sujingyang  4096 6月  22 13:24 ftp`

### 一、权限
字符串分解
通过 `drwxrwxr-x` 这个字符串可以体现出权限信息
1. 第1个字符代表该文件是什么文件。其中：
  - `d` 为目录
  - `-` 为普通文件
  - `l` 为链接   
  - `c` 为字符设备 *<font size=2>鼠标、键盘都是字符设备</font>*
  - `d` 为块设备 *<font size=2>硬盘是字符设备</font>*

2. 第12-10个字符决定该文件的**拥有者、拥有组、其他组**拥有什么权限
  - `r` 为可读权限
  - `w` 为可写权限
  - `x` 为可执行权限
  - 如果没有该权限，则使用 `-` 代替。

3. 需要注意的是，决定一个文件是否可以删除和增加需要根据是否该文件所属的目录的可写权限,对于目录来说，`r`、`w`、`x`有不同的理解
  - `r` 拥有目录的`r`权限的用户才能在目录里面查看文件夹内容 <font size=2>虽然无法查看对应的文件，但文件如果可以编辑，依然可以打开</font>
  - `w` 拥有目录的`w`权限的用户才能在目录里面创建文件或文件夹
  - `x` 拥有目录的`x`权限的用户才能切换到目录里面


相关指令的使用。
  1. 核心指令为 `chmod [参数][字符串|数字][文件]`
   - 通常使用三个数字来依次来代表修改文件所对应的权限，分别对应**所有者、所有组、其他组**的权限。
   - 权限与数字的对应关系为 `r=4,w=2,x=1` ，所以通过计算数字的和可以对文件设置权限。
   示例： `chmod 777 a.txt` *<font size=2>这样就可以a.txt文件的**所有者、所有组、其他组**设置为可读、可写、可执行权限</font>*
   - 在文件权限中， `u` 代表**所有者**，`g` 代表**所有组**,`o` 代表**其他组**。
   - 可以直接使用 `[+|-]` 号添加或减少对应的文件权限
   示例： `chmod 'u-x,o-x,g-x' a.txt` *<font size=2>需要通过，隔开</font>*
  2. 核心指令为 `chown [参数][用户名：用户组][文件]`,通过该权限为root用户所使用,主要为更改用户的所有者和所有组。
   - 示例1：`sudo chown root:sujingyang a.txt`  *<font size=2>同时更改所有者和所有组</font>*
   - 示例2： `sudo chown :sujingyang a.txt` *<font size=2>更改所有组</font>*

  3. 核心指令为 `chown [参数][用户组][文件]`，更改文件或者目录的所有组。
   - 示例1：`sudo chgrp sujingyang a.txt` *<font size=2>更改所有组</font>*
   - 示例2： `sudo chgrp --reference=mysql vpn` *<font size=2>以某个文件为模板更改所有组</font>*
 
 4. groupmems指令的使用，用来给用户添加附加组
groupmems [opentions] [action]

参数如下:
-g 指定组（只有root可以使用）
-a 指定用户加入组
-d 从组中删除该用户
-p 从组中清楚所有成员
-l 显示组成员列表




